const HIGHLIGHT_OFFSET = 20, anchorElements = document.querySelectorAll(".toc-body ul li a"), headingElements = document.querySelectorAll(".post-content h2, .post-content h3, .post-content h4"), headingElementsOffsetTop = []; headingElements.forEach(e => { headingElementsOffsetTop.push(e.offsetTop); }); const highlightIndex = e => {
    if (currentHeadingIndex = e, document.querySelectorAll(`.toc-body ul li a`).forEach(e => { e.style.borderColor = "transparent"; }), e === -1)
        return; const t = document.querySelector(`.toc-body ul li a[href="#${headingElements[e].id}"]`); t && (t.style.borderColor = "#727272");
}, throttle = (e, t) => {
    if (throttleTimer)
        return; throttleTimer = !0, setTimeout(() => { e(), throttleTimer = !1; }, t);
}; let throttleTimer = !1, currentHeadingIndex = -1; for (let e = 0; e < headingElementsOffsetTop.length; e++)
    window.pageYOffset >= headingElementsOffsetTop[e] - HIGHLIGHT_OFFSET && highlightIndex(e); window.addEventListener("scroll", () => {
        throttle(() => {
            const e = window.pageYOffset, t = headingElementsOffsetTop.length - 1; for (let n = t; n >= currentHeadingIndex; n--)
                if (e >= headingElementsOffsetTop[n] - HIGHLIGHT_OFFSET) { highlightIndex(n); return; } highlightIndex(-1);
        }, 100);
    });
